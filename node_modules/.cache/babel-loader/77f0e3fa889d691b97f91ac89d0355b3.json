{"ast":null,"code":"import { takeLatest, put, all } from 'redux-saga/effects';\nimport { handlePositionPiece, handleAllowedPiece, printAllowedMovements, handleMovePiece } from '../../../logic/index';\nimport { handlePrintMovementsSuccess, handleMovePiecesSuccess } from './actions';\nexport function* handlePrintMovements({\n  payload\n}) {\n  const {\n    board,\n    square\n  } = payload; // checking witch side is available\n\n  const allowedPositions = handlePositionPiece({\n    board,\n    square\n  }); // checking if this side have a piece\n\n  const allowedMovements = handleAllowedPiece({\n    board,\n    square,\n    allowedMovements: allowedPositions\n  });\n  const newBoard = printAllowedMovements({\n    allowedMovements,\n    board\n  });\n  yield put(handlePrintMovementsSuccess({\n    board: newBoard,\n    selected: {\n      square,\n      positions: allowedMovements\n    }\n  }));\n}\nexport function* handleMovePieces({\n  payload\n}) {\n  const {\n    board,\n    square,\n    selected\n  } = payload;\n  const right_id = selected.positions.right.id;\n  const left_id = selected.positions.left.id;\n  if (square.id !== right_id && square.id !== left_id) return;\n  const newBoard = handleMovePiece({\n    board,\n    futureSquare: square,\n    actualSquare: selected.square\n  });\n  yield put();\n}\nexport default all([takeLatest('@board/HANDLE_PRINT_MOVEMENTS', handlePrintMovements), takeLatest('@board/HANDLE_MOVE_PIECES', handleMovePieces)]);","map":{"version":3,"sources":["/Users/henriqueolivoantonio/Desktop/Projects/damas/src/store/modules/board/sagas.js"],"names":["takeLatest","put","all","handlePositionPiece","handleAllowedPiece","printAllowedMovements","handleMovePiece","handlePrintMovementsSuccess","handleMovePiecesSuccess","handlePrintMovements","payload","board","square","allowedPositions","allowedMovements","newBoard","selected","positions","handleMovePieces","right_id","right","id","left_id","left","futureSquare","actualSquare"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,EAA0BC,GAA1B,QAAqC,oBAArC;AACA,SACEC,mBADF,EAEEC,kBAFF,EAGEC,qBAHF,EAIEC,eAJF,QAKO,sBALP;AAMA,SACEC,2BADF,EAEEC,uBAFF,QAGO,WAHP;AAKA,OAAO,UAAUC,oBAAV,CAA+B;AAAEC,EAAAA;AAAF,CAA/B,EAA4C;AACjD,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAoBF,OAA1B,CADiD,CAGjD;;AACA,QAAMG,gBAAgB,GAAGV,mBAAmB,CAAC;AAAEQ,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAD,CAA5C,CAJiD,CAKjD;;AACA,QAAME,gBAAgB,GAAGV,kBAAkB,CAAC;AAC1CO,IAAAA,KAD0C;AAE1CC,IAAAA,MAF0C;AAG1CE,IAAAA,gBAAgB,EAAED;AAHwB,GAAD,CAA3C;AAMA,QAAME,QAAQ,GAAGV,qBAAqB,CAAC;AAAES,IAAAA,gBAAF;AAAoBH,IAAAA;AAApB,GAAD,CAAtC;AACA,QAAMV,GAAG,CACPM,2BAA2B,CAAC;AAC1BI,IAAAA,KAAK,EAAEI,QADmB;AAE1BC,IAAAA,QAAQ,EAAE;AAAEJ,MAAAA,MAAF;AAAUK,MAAAA,SAAS,EAAEH;AAArB;AAFgB,GAAD,CADpB,CAAT;AAMD;AAED,OAAO,UAAUI,gBAAV,CAA2B;AAAER,EAAAA;AAAF,CAA3B,EAAwC;AAC7C,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,MAAT;AAAiBI,IAAAA;AAAjB,MAA8BN,OAApC;AACA,QAAMS,QAAQ,GAAGH,QAAQ,CAACC,SAAT,CAAmBG,KAAnB,CAAyBC,EAA1C;AACA,QAAMC,OAAO,GAAGN,QAAQ,CAACC,SAAT,CAAmBM,IAAnB,CAAwBF,EAAxC;AACA,MAAIT,MAAM,CAACS,EAAP,KAAcF,QAAd,IAA0BP,MAAM,CAACS,EAAP,KAAcC,OAA5C,EAAqD;AAErD,QAAMP,QAAQ,GAAGT,eAAe,CAAC;AAC/BK,IAAAA,KAD+B;AAE/Ba,IAAAA,YAAY,EAAEZ,MAFiB;AAG/Ba,IAAAA,YAAY,EAAET,QAAQ,CAACJ;AAHQ,GAAD,CAAhC;AAMA,QAAMX,GAAG,EAAT;AACD;AAED,eAAeC,GAAG,CAAC,CACjBF,UAAU,CAAC,+BAAD,EAAkCS,oBAAlC,CADO,EAEjBT,UAAU,CAAC,2BAAD,EAA8BkB,gBAA9B,CAFO,CAAD,CAAlB","sourcesContent":["import { takeLatest, put, all } from 'redux-saga/effects';\nimport {\n  handlePositionPiece,\n  handleAllowedPiece,\n  printAllowedMovements,\n  handleMovePiece,\n} from '../../../logic/index';\nimport {\n  handlePrintMovementsSuccess,\n  handleMovePiecesSuccess,\n} from './actions';\n\nexport function* handlePrintMovements({ payload }) {\n  const { board, square } = payload;\n\n  // checking witch side is available\n  const allowedPositions = handlePositionPiece({ board, square });\n  // checking if this side have a piece\n  const allowedMovements = handleAllowedPiece({\n    board,\n    square,\n    allowedMovements: allowedPositions,\n  });\n\n  const newBoard = printAllowedMovements({ allowedMovements, board });\n  yield put(\n    handlePrintMovementsSuccess({\n      board: newBoard,\n      selected: { square, positions: allowedMovements },\n    })\n  );\n}\n\nexport function* handleMovePieces({ payload }) {\n  const { board, square, selected } = payload;\n  const right_id = selected.positions.right.id;\n  const left_id = selected.positions.left.id;\n  if (square.id !== right_id && square.id !== left_id) return;\n\n  const newBoard = handleMovePiece({\n    board,\n    futureSquare: square,\n    actualSquare: selected.square,\n  });\n\n  yield put();\n}\n\nexport default all([\n  takeLatest('@board/HANDLE_PRINT_MOVEMENTS', handlePrintMovements),\n  takeLatest('@board/HANDLE_MOVE_PIECES', handleMovePieces),\n]);\n"]},"metadata":{},"sourceType":"module"}