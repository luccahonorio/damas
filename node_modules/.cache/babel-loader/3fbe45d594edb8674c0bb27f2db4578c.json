{"ast":null,"code":"import { pieceDarker, pieceLighter, squareDarker, squareLighter } from '../store/modules/board/recucer';\n\nfunction handleGetIndex({\n  board,\n  square\n}) {\n  let indexSquare = null;\n  board.forEach(row => row.forEach(sq => {\n    if (sq && sq.id && sq.id === square.id) {\n      indexSquare = {\n        row: board.indexOf(row),\n        index: row.indexOf(sq),\n        color: sq.piece\n      };\n    }\n  }));\n  return indexSquare;\n} //Handle if the peace can move by her position in the board\n\n\nexport function handlePositionPiece({\n  board,\n  square\n}) {\n  const squareIndex = handleGetIndex({\n    board,\n    square\n  }); // lighter\n\n  if (squareIndex.color === pieceLighter) {\n    // if position is 9\n    if (squareIndex.index === 9) {\n      return {\n        right: false,\n        left: true\n      };\n    } // if position is 0\n\n\n    if (squareIndex.index === 0) {\n      return {\n        right: true,\n        left: false\n      };\n    }\n  } else {\n    // darker\n    // if position is 9\n    if (squareIndex.index === 9) {\n      return {\n        right: true,\n        left: false\n      };\n    } // if position is 0\n\n\n    if (squareIndex.index === 0) {\n      return {\n        right: false,\n        left: true\n      };\n    }\n  } // if is allowed on two ways\n\n\n  return {\n    right: true,\n    left: true\n  };\n}\nexport function handleAllowedPiece({\n  board,\n  square,\n  allowedMovements\n}) {\n  const squareIndex = handleGetIndex({\n    board,\n    square\n  }); // light\n  // if right is allowed\n  // if left is allowed\n  // if both sides are allowed\n\n  if (squareIndex.color === pieceLighter) {\n    const row = squareIndex.row - 1;\n    const index = squareIndex.index;\n\n    if (allowedMovements.right) {\n      const indexFutureSquare = handleGetIndex({\n        board,\n        square: board[row][index + 1]\n      });\n\n      if (indexFutureSquare.color !== pieceLighter) {\n        // verificar se pode comer\n        allowedMovements.right = indexFutureSquare;\n      } else {\n        allowedMovements.right = false;\n      }\n    }\n\n    if (allowedMovements.left) {\n      const indexFutureSquare = handleGetIndex({\n        board,\n        square: board[row][index - 1]\n      });\n\n      if (indexFutureSquare.color !== pieceLighter) {\n        // verificar se pode comer\n        allowedMovements.left = indexFutureSquare;\n      } else {\n        allowedMovements.left = false;\n      }\n    }\n\n    return allowedMovements;\n  } else {\n    // dark\n    // if right is allowed\n    // if left is allowed\n    // if both sides are allowed\n    const row = squareIndex.row - 1;\n    const index = squareIndex.index;\n\n    if (allowedMovements.right) {\n      const indexFutureSquare = handleGetIndex({\n        board,\n        square: board[row][index + 1]\n      });\n\n      if (indexFutureSquare.color !== pieceLighter) {\n        // verificar se pode comer\n        allowedMovements.right = indexFutureSquare;\n      } else {\n        allowedMovements.right = false;\n      }\n    }\n\n    if (allowedMovements.left) {\n      const indexFutureSquare = handleGetIndex({\n        board,\n        square: board[row][index - 1]\n      });\n\n      if (indexFutureSquare.color !== pieceLighter) {\n        // verificar se pode comer\n        allowedMovements.left = indexFutureSquare;\n      } else {\n        allowedMovements.left = false;\n      }\n    }\n\n    return allowedMovements;\n  }\n}","map":{"version":3,"sources":["/Users/henriqueolivoantonio/Desktop/Projects/damas/src/logic/index.js"],"names":["pieceDarker","pieceLighter","squareDarker","squareLighter","handleGetIndex","board","square","indexSquare","forEach","row","sq","id","indexOf","index","color","piece","handlePositionPiece","squareIndex","right","left","handleAllowedPiece","allowedMovements","indexFutureSquare"],"mappings":"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","sourcesContent":["import {\n  pieceDarker,\n  pieceLighter,\n  squareDarker,\n  squareLighter,\n} from '../store/modules/board/recucer';\n\nfunction handleGetIndex({ board, square }) {\n  let indexSquare = null;\n\n  board.forEach((row) =>\n    row.forEach((sq) => {\n      if (sq && sq.id && sq.id === square.id) {\n        indexSquare = {\n          row: board.indexOf(row),\n          index: row.indexOf(sq),\n          color: sq.piece,\n        };\n      }\n    })\n  );\n\n  return indexSquare;\n}\n//Handle if the peace can move by her position in the board\nexport function handlePositionPiece({ board, square }) {\n  const squareIndex = handleGetIndex({ board, square });\n\n  // lighter\n  if (squareIndex.color === pieceLighter) {\n    // if position is 9\n    if (squareIndex.index === 9) {\n      return {\n        right: false,\n        left: true,\n      };\n    }\n\n    // if position is 0\n    if (squareIndex.index === 0) {\n      return {\n        right: true,\n        left: false,\n      };\n    }\n  } else {\n    // darker\n\n    // if position is 9\n    if (squareIndex.index === 9) {\n      return {\n        right: true,\n        left: false,\n      };\n    }\n\n    // if position is 0\n    if (squareIndex.index === 0) {\n      return {\n        right: false,\n        left: true,\n      };\n    }\n  }\n\n  // if is allowed on two ways\n  return {\n    right: true,\n    left: true,\n  };\n}\n\nexport function handleAllowedPiece({ board, square, allowedMovements }) {\n  const squareIndex = handleGetIndex({ board, square });\n\n  // light\n  // if right is allowed\n  // if left is allowed\n  // if both sides are allowed\n  if (squareIndex.color === pieceLighter) {\n    const row = squareIndex.row - 1;\n    const index = squareIndex.index;\n\n    if (allowedMovements.right) {\n      const indexFutureSquare = handleGetIndex({\n        board,\n        square: board[row][index + 1],\n      });\n      if (indexFutureSquare.color !== pieceLighter) {\n        // verificar se pode comer\n        allowedMovements.right = indexFutureSquare;\n      } else {\n        allowedMovements.right = false;\n      }\n    }\n\n    if (allowedMovements.left) {\n      const indexFutureSquare = handleGetIndex({\n        board,\n        square: board[row][index - 1],\n      });\n      if (indexFutureSquare.color !== pieceLighter) {\n        // verificar se pode comer\n        allowedMovements.left = indexFutureSquare;\n      } else {\n        allowedMovements.left = false;\n      }\n    }\n\n    return allowedMovements;\n  } else {\n    // dark\n    // if right is allowed\n    // if left is allowed\n    // if both sides are allowed\n    const row = squareIndex.row - 1;\n    const index = squareIndex.index;\n\n    if (allowedMovements.right) {\n      const indexFutureSquare = handleGetIndex({\n        board,\n        square: board[row][index + 1],\n      });\n      if (indexFutureSquare.color !== pieceLighter) {\n        // verificar se pode comer\n        allowedMovements.right = indexFutureSquare;\n      } else {\n        allowedMovements.right = false;\n      }\n    }\n\n    if (allowedMovements.left) {\n      const indexFutureSquare = handleGetIndex({\n        board,\n        square: board[row][index - 1],\n      });\n      if (indexFutureSquare.color !== pieceLighter) {\n        // verificar se pode comer\n        allowedMovements.left = indexFutureSquare;\n      } else {\n        allowedMovements.left = false;\n      }\n    }\n\n    return allowedMovements;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}